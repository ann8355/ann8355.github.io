(function(t){function e(e){for(var r,i,s=e[0],c=e[1],l=e[2],f=0,m=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/waiting/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0164":function(t,e,n){},"04f6":function(t,e,n){"use strict";var r=n("1283"),a=n.n(r);a.a},"08fb":function(t,e,n){"use strict";var r=n("bf9e"),a=n.n(r);a.a},1283:function(t,e,n){},"1c62":function(t,e,n){},"1e55":function(t,e,n){"use strict";var r=n("bc49"),a=n.n(r);a.a},"341c":function(t,e,n){"use strict";var r=n("1c62"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=(n("5c0b"),n("2877")),s={},c=Object(i["a"])(s,a,o,!1,null,null,null),l=c.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("Header"),n("LangSelector",{on:{lang:t.select}}),n("WaitingInfo",{attrs:{lang:t.lang,showCancel:!1,serial:t.serialNum}},[n("Number",{attrs:{slot:"numberCard",lang:t.lang},on:{serial:t.getNumber},slot:"numberCard"})],1)],1)},m=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"logo",style:{backgroundImage:t.img}})},h=[],p={name:"Header",computed:{img:function(){var t="url(".concat(n("d249"),")");return t}}},g=p,v=(n("c5f3"),Object(i["a"])(g,d,h,!1,null,"2a6f7027",null)),b=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lang"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.select("ch")}}},[t._v("中文")]),t._v("\n   / \n  "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.select("en")}}},[t._v("English")])])},C=[],y={name:"LangSelector",methods:{select:function(t){this.$emit("lang",t)}}},_=y,A=(n("08fb"),Object(i["a"])(_,w,C,!1,null,"5d44d246",null)),S=A.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["number-card",{pages:0!==t.num}]},[n("h1",{staticClass:"number-title"},[t._v(t._s(t.title[t.lang]))]),n("h2",{class:["number",{flipCard:t.isFlip},{arrive:"string"===typeof t.num}],style:{color:t.num<=3?"rgb(236, 79, 79)":"#000"}},[t._v("\n    "+t._s(t.num)+"\n  ")]),n("h2",{staticClass:"numberCopy"})])},E=[],k=(n("96cf"),n("3b8d")),O=(n("f576"),n("6b54"),n("2ef0")),j=n.n(O),T=n("bc3a"),N=n.n(T),B=n("1881"),P=n.n(B),R=n("ec41"),M=n.n(R),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ConfirmModal",{staticClass:"network-modal",attrs:{title:t.title,name:t.name,btnComfirm:t.btnComfirm},on:{confirm:t.onConfirm}})},U=[],$=(n("7f7f"),n("a925")),D={confirm:"确认",cancel:"取消",close:"关闭",dataError:"资料送出错误",networkError:"网路不稳定？",refresh:"刷新"},F={confirm:"確認",cancel:"取消",close:"關閉",dataError:"資料送出錯誤",networkError:"網路不穩定？",refresh:"刷新"},I={confirm:"Confirm",cancel:"Cancel",close:"Close",dataError:"Data sending error",networkError:"Unstable connection. Please check network status",refresh:"Refresh"},Q={"zh-TW":F,"en-US":I,"zh-CN":D};r["a"].use($["a"]);var H=new $["a"]({locale:"zh-TW",fallbackLocale:"zh-TW",messages:Q}),z={install:function(t){var e={setLanguage:function(t){document.documentElement.setAttribute("lang",t),N.a.defaults.headers.common["Accept-Language"]=t,H.locale=t}};t.prototype.$i18nService=e}};r["a"].use(z);var L=H,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{staticClass:"confirm-modal",attrs:{height:"auto",name:t.name,clickToClose:t.clickToClose}},[t.title?n("div",{staticClass:"confirm-modal-header"},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"confirm-modal-body"},[t._t("default")],2),n("div",{staticClass:"confirm-modal-footer"},[t.btnComfirm?n("wpt-button",{staticClass:"confirm-modal-yes btn",on:{click:t.confirm}},[t._v("\n      "+t._s(t.btnComfirm)+"\n    ")]):t._e(),n("wpt-button",{staticClass:"confirm-modal-no btn",style:{width:t.btnComfirm?"":"80%"},on:{click:t.close}},[t._v(t._s(t.btnCancel)+"\n    ")])],1)])},q=[],G={name:"ConfirmModal",props:{name:{type:String,required:!0},title:{type:String},btnComfirm:{type:String,default:L.t("confirm")},btnCancel:{type:String,default:L.t("close")},clickToClose:{type:Boolean,default:!1}},methods:{show:function(){this.$modal.show(this.name)},close:function(){this.$modal.hide(this.name),this.$emit("close")},confirm:function(){this.$emit("confirm")}}},K=G,Y=(n("e69d"),Object(i["a"])(K,V,q,!1,null,null,null)),X=Y.exports,J={name:"NetworkModal",data:function(){return{name:"NetworkModal",title:"",btnComfirm:L.t("refresh")}},methods:{show:function(t){this.title=t,this.$modal.show(this.name)},close:function(){this.$modal.hide(this.name)},onConfirm:function(){location.reload()}},components:{ConfirmModal:X}},Z=J,tt=Object(i["a"])(Z,W,U,!1,null,null,null),et=tt.exports;r["a"].use(M.a),r["a"].use(P.a,{dynamic:!0});var nt=new r["a"](et),rt=nt.$mount();document.body.appendChild(rt.$el);var at=nt,ot=N.a.create({timeout:3e4,validateStatus:function(t){return 200===t}});ot.interceptors.request.use(function(t){var e="WAITPLUS",n={headers:{APP:e}};return j.a.merge(t,n)},function(t){return Promise.reject(t)}),ot.interceptors.response.use(function(t){return 0!==t.data.err&&-3!==t.data.err&&(at.show(L.t("dataError")),console.error(t.data.msg)),t},function(t){return N.a.isCancel(t)?Promise.resolve():("ECONNABORTED"===t.code&&at.show(L.t("networkError")),Promise.reject(t))});var it=ot,st={local:"https://zhonghe-globalmall-yakinikulike.lifeplus.tw:10000"},ct={getWaitingNum:function(t){var e=it.request({method:"get",url:"".concat(st.local,"/api/waitings/").concat(t)});return e},getWaitingInfo:function(t){var e=it.request({method:"get",url:"".concat(st.local,"/api/waits/").concat(t)});return e}},lt=n("5118"),ut={name:"Number",props:{lang:{type:String,default:"ch"}},data:function(){return{title:{ch:"等候組數",en:"Queue"},num:"",isFlip:!1,time:null,interval:null,number:null,arrivedTxt:{ch:"已報到",en:"Arrived"},cancelTxt:{ch:"已取消",en:"Cancel"},waitingTxt:{ch:"等待中",en:"Waiting"},status:0}},watch:{isFlip:function(t){var e=this;t?(this.num="",this.time=Object(lt["setTimeout"])(function(){e.isFlip=!1},600)):this.num=this.number},num:function(t){-1===t&&this.clear()},lang:function(t){0!==this.status&&this.transform(this.status)}},computed:{formatString:function(){var t=this.num.toString();return t.padStart(4,"0")}},methods:{init:function(){var t=Object(k["a"])(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$route.query.number,t.next=3,ct.getWaitingNum(n).then(function(t){-3===t.data.err||0===t.data.err&&-1===t.data.msg.waits?ct.getWaitingInfo(n).then(function(t){r.$emit("serial",t.data.msg.count||0),r.transform(t.data.msg.status),r.status=t.data.msg.status}):(r.number=t.data.msg.waits,"first"===e?(r.num=t.data.msg.waits,r.$emit("serial",t.data.msg.count)):t.data.msg.waits!==r.num&&"string"!==typeof r.num&&(r.isFlip=!0))});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),clear:function(){this.time&&clearTimeout(this.time),this.interval&&clearInterval(this.interval)},transform:function(t){switch(t){case 1:this.num=this.waitingTxt[this.lang];break;case 2:this.num=this.arrivedTxt[this.lang];break;case 3:this.num=this.cancelTxt[this.lang];break;default:}},countNum:function(t){return 1===t?this.arrivedTxt[this.lang]:t>0?t-1:5}},created:function(){this.number=5,this.num=5,this.$emit("serial",5)},mounted:function(){var t=this;this.interval=setInterval(function(){t.number=t.countNum(t.number),t.isFlip=!0},3e3)},destroyed:function(){this.clear()}},ft=ut,mt=(n("341c"),Object(i["a"])(ft,x,E,!1,null,"6d285f60",null)),dt=mt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-area"},[n("h3",[t._v(t._s(t.dateInfo))]),n("p",{staticClass:"serial"},[t._v(t._s(t.serialInfo[t.lang]))]),n("h4",[t._v(t._s(t.formatString))]),t._t("numberCard"),t.showCancel?n("button",[t._v(t._s(t.cancelBtn[t.lang]))]):t._e(),t.promptInfo?n("p",{staticClass:"promptWord"},[t._v(t._s(t.promptInfo))]):t._e()],2)},pt=[],gt=(n("c5f6"),{name:"WaitingInfo",props:{lang:{type:String,default:"ch"},showCancel:{type:Boolean,default:!0},serial:{type:Number}},data:function(){return{serialInfo:{ch:"您的排隊序號：",en:"Your queue number："},promptInfo:"",cancelBtn:{ch:"取消候位",en:"Cancel"}}},computed:{dateInfo:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return"".concat(e,"-").concat(n,"-").concat(r)},formatString:function(){var t=this.serial.toString();return t.padStart(4,"0")}}}),vt=gt,bt=(n("04f6"),Object(i["a"])(vt,ht,pt,!1,null,"5296e3b5",null)),wt=bt.exports,Ct={name:"Home",data:function(){return{lang:"ch",serialNum:0}},components:{Header:b,LangSelector:S,WaitingInfo:wt,Number:dt},methods:{select:function(t){this.lang=t},getNumber:function(t){this.serialNum=t}}},yt=Ct,_t=(n("1e55"),Object(i["a"])(yt,f,m,!1,null,"320592a4",null)),At=_t.exports;r["a"].use(u["a"]);var St=new u["a"]({mode:"history",routes:[{path:"/",name:"home",component:At},{path:"*",redirect:"/"}]}),xt=n("2f62");r["a"].use(xt["a"]);var Et=new xt["a"].Store({state:{},mutations:{},actions:{}}),kt=n("9483");Object(kt["a"])("".concat("/waiting/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].config.productionTip=!1,new r["a"]({router:St,store:Et,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("e332"),a=n.n(r);a.a},bc49:function(t,e,n){},bf9e:function(t,e,n){},c5f3:function(t,e,n){"use strict";var r=n("0164"),a=n.n(r);a.a},d249:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA4BAMAAAC4dD1UAAAAG1BMVEU3Nzf////m5ubNzc2bm5u0tLSCgoJpaWlQUFCD5UHjAAACWUlEQVQ4y81VTVfaUBAdCyVZOi8BumworS5NAxyXIGBdEoTaZZBStqE9eFzGfmh/tu9jnpMEce09B0LevZm5M5P3gDKc8wxewnaBreQFvoYS9f0x3AAV2nsFMRp4s9ntc/yZ5D4EJOrt8r8Q/RQ2SNhxci0XG8CCtORPxh9jPSfoF/h75a+FHsDCCt4DY9hq3lzSY1ogQsQm8xX0DgFCxSQwUBffifETC0K8lPGi7mw0SmE1jz7jMTjB9sjyPxHxpDixRDc1yfVvwuW495G0UpWL71ggV87Vk7Mr0B5BWzklwUCb6zys2gEKR8/CjPUwFyF1Q7ngTHGEOvYm34lANb6ijbg41I9Ki2ysppPe6e6/pSb+xo8scIVKGmprB0ZwEuanoThfZfDtIHSeBfdBGmoMTNn4BE9+gHAgOR0YHM016M0TPCuDBK7R1DDFKOryO0XWEQC7s/V2RKnJA0UQnXEKRXAVFby6zXb3oLfos0nTt2XUnc/nX81qVQSToiBxqEAzvphn8cYURVdsmOmo4RWq8HUbuR0BCypmQK7dMLRgBJyi/+epfxv6RQLaCTaADxCSW2sy1tYeaLlPntiD2SpH4uL/aozYURGF0TbzHoaSy8DpAVTRwrdNtQv11AZc6lsfOAf5TuicCPXdN+Ac+ZjbqbQoUKTlw03t52qPCheBtcg52hn81d/gfuf9zNPwNE9W/yGWD1BxCkvqoFLceYbiN3/iSG+siP3iGS0utuTUZKvhMRRwE2MOYuKWX9JBnu7l2HKvROfHOtv7RyG6a9iLM9H5ksHrxCNuI3fYCRJQmwAAAABJRU5ErkJggg=="},e332:function(t,e,n){},e69d:function(t,e,n){"use strict";var r=n("eb52"),a=n.n(r);a.a},eb52:function(t,e,n){}});